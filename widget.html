<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>widget</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div id="widget">
		<div id="titles"></div>
		<div id="content"></div>
	</div>
	<script>
	var products = [
		{productId:1, productName: 'Product 1', categoryId:1},
		{productId:2, productName: 'Product 2', categoryId:2},
		{productId:3, productName: 'Product 3', categoryId:3},
		{productId:4, productName: 'Product 4', categoryId:4},
		{productId:5, productName: 'Product 5', categoryId:5},
		{productId:6, productName: 'Product 6', categoryId:1},
		{productId:7, productName: 'Product 7', categoryId:2},
		{productId:8, productName: 'Product 8', categoryId:3},
		{productId:9, productName: 'Product 9', categoryId:4},
		{productId:10, productName: 'Product 10', categoryId:5},
		{productId:11, productName: 'Product 11', categoryId:1},
		{productId:12, productName: 'Product 12', categoryId:2},
		{productId:13, productName: 'Product 13', categoryId:3},
		{productId:14, productName: 'Product 14', categoryId:4},
		{productId:15, productName: 'Product 15', categoryId:5},
		{productId:16, productName: 'Product 16', categoryId:1},
		{productId:17, productName: 'Product 17', categoryId:2},
		{productId:18, productName: 'Product 18', categoryId:3},
		{productId:19, productName: 'Product 19', categoryId:4},
		{productId:20, productName: 'Product 20', categoryId:5},
		{productId:21, productName: 'Product 21', categoryId:1},
		{productId:22, productName: 'Product 22', categoryId:2},
		{productId:23, productName: 'Product 23', categoryId:3},
		{productId:24, productName: 'Product 24', categoryId:4},
		{productId:25, productName: 'Product 25', categoryId:5}
	];
	var categories = [
		{categoryId:1, categoryName: 'T-shirts'},
		{categoryId:2, categoryName: 'Shirts'},
		{categoryId:3, categoryName: 'Socks'},
		{categoryId:4, categoryName: 'Jeans'},
		{categoryId:5, categoryName: 'Trousers'}
	];
	
	var widget = document.getElementById('widget');
	var titles = document.getElementById('titles');
	var content = document.getElementById('content');
	
	categories.forEach(category => {
		titles.innerHTML += '<div class="title" id="'+category.categoryId+'" onclick="setTabContent('+category.categoryId+')">'+category.categoryName+'</div>';
	});
	
	function setTabContent(id) {
		content.innerHTML = '';
		products.forEach(product => {
			if(product.categoryId === id) {
				content.innerHTML += '<picture><img src="http://rrstatic.retailrocket.net/test_task/tovar.jpg" alt="'+product.productName+'"><span class="caption">'+product.productName+'</span></picture>';
			}
		});
		//update titles background colors after click
		categories.forEach(category => {
			if(id === category.categoryId) document.getElementById(''+category.categoryId).style.backgroundColor = '#fff';
			else document.getElementById(''+category.categoryId).style.backgroundColor = '#e8e8e8';
		});
	}
	setTabContent(1);
	
	</script>
</body>
</html>